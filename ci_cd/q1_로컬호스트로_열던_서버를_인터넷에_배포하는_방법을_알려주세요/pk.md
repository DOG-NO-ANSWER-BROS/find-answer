# 내 컴퓨터에서는 로컬호스트인 서버가 이세계에서는 퍼블릭 도메인? - by PK

Spring을 이용하여 Intellij 안에서 프로그래밍을 하면 http:localhost:8080/ 에 자주 드나드는 나를 볼 수 있어요.

이 localhost에서 접하는 내 결과물을 [네이버](https://www.naver.com)처럼 다른 사람들이 방문할 수 있는 사이트로 바꿀 수 있죠.
여러가지 방법이 있지만...

## 됐고, AWS... 그래서 어떻게 하는건데요?
그쵸, 우리의 주 관심사는 AWS입니다. Azure(마이크로소프트), GCP(구글 클라우드 플랫폼) 등 여러가지 옵션이 있긴해요.
하지만 AWS가 현재 점유율이 가장 높은 [IaaS](https://zetawiki.com/wiki/IaaS)다 보니 AWS에 관심이 많은 건 당연합니다.

그 방법을 알기 전에 이 사실을 기억할 필요가 있어요:
**AWS는 서버 장비를 대여해줄 뿐만 아니라 그 안에서 로그 관리, 모니터링, 하드웨어 교체, 네트워크 관리 등**
예전에는 개발자가 직접 해야 했던 것들을 지원해준답니다.

### 처음이니까, 세 가지만 먼저 기억하자.
AWS에서 배포하기 위해 알아야 할 핵심 키워드 세 개를 한 번 보도록 하겠습니다.
|서비스|설명|
|--|--|
|💻 EC2| Elastic Cloud Computer, 말 그대로 컴퓨터를 빌려서 클라우드로 사용하는 서비스! 이 서비스가 AWS를 먹여살린다고 보면 됩니다. |
|💽 RDS| Relational Database Service, 데이터베이스 서버 서비스입니다. 우리가 요즘 배우는 MySql을 내 컴퓨터가 아닌 얘네 컴퓨터로 쓴다는 거죠. |
|🪣 S3| Simple Storage Service, 저장 공간 서비스입니다. 인터넷에 올라오는 사진이나 영상 같은거 보면 이 곳에 저장된 경우가 굉장히 많아요. |

약간 느낌이 오시나요? AWS가 제공하는 서비스는 굉장히 많지만, 그 근간이 되는 서비스는 이 세 개인거죠. 내 서버가 작동하기 위해서는 작동하는 컴퓨터,
정보 저장 데이터베이스, 그리고 그 외 모든 것을 저장하는 저장소가 있어야합니다.

### 처음이니까, 흐름을 익혀보자.
생각을 해봅시다. AWS 웹사이트에 들어가서 나는 무엇을 해야할까?
1. 먼저 가입을 해서 로그인을 해야겠죠.
2. EC2 서비스 페이지로 가서 **EC2 인스턴스를 생성**해야 해요. 그 과정은 하나의 별도 주제가 될 수 있기에 일단 그렇다는 것만 알아둡시다. (RDS도 동일)
3. 퍼블릭 IP 주소를 받습니다. 인스턴스가 껐다 켜지면 주소가 바뀌는데, **탄력적 IP**를 연결하면 고정된 주소를 이용할 수 있어요. 이것도 그렇다고 알아둡시다.
4. 생성된 인스턴스에 접근하는 방법은 여러가지가 있는데, **mac에서는 ssh로 터미널에서 들어갈 수 있습니다.**
5. git을 이용하여 내가 만든 repository를 해당 인스턴스에 clone합니다.
6. Gradle을 이용하여 **프로젝트를 테스트하고 빌드**한 다음,
7. **EC2 서버에서 프로젝트를 실행합니다.**

### 테스트, 빌드, 실행
방금 제가 Gradle을 이용하여 테스트와 빌드를 한 후, 프로젝트를 실행한다고 했죠?
마지막으로 이 과정과 관련된 키워드 두 개만 더 보고 마무리합시다.
|키워드|설명|
|--|--|
|.gradlew/build| 프로젝트 내부의 gradlew로 build를 수행합니다. |
|.jar 파일| 빌드를 하면 생기는 파일입니다. **java -jar 내_프로젝트.jar 명령어**를 이용해서 프로젝트를 실행할 수 있어요. |

#### 마무리 - 물론 이보다 훨씬 복잡하다.
이 사이에 빼놓은 디테일이 정말 많아요.
**서버 인스턴스 설정, 설치해야 할 것들, 스크립트를 만들기, 배포 자동화**등 '배포'라는 분야는 절대 쉽게 볼만한 분야가 아닙니다...
심지어 RDS와 S3라는 서비스는 키워드로 소개만 해놓고 흐름에 적지 않았죠. 하지만 이 키워드와 흐름을 알고 있으면 배포를 할 때 필요한 잔근육을 빨리 키울 수 있을겁니다!

우린 처음이니까 이 정도면 큰 흐름이 느껴지죠? 다음부터 조금씩 디테일을 추가해보자구요!



출처:
[스프링 부트와 AWS로 혼자 구현하는 웹 서비스](https://jojoldu.tistory.com/463)
