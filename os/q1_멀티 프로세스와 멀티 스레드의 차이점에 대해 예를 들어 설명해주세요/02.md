프로세스는 운영체제로부터 자원을 할당받은 작업의 단위이고 스레드는 프로세스가 할당받은 자원을 이용하는 실행 흐름의 단위이다.

## 프로그램 → 프로세스 → 스레드

- 프로그램 → 프로세스

먼저 프로그램은 파일이 저장 장치에 되어 있지만 메모리에는 올라가 있지 않은 정적인 상태를 말한다. 운영체제가 독립적인 메모리 공간을 할당하지 않았고 움직이지 않는 정적인 상태라는 뜻이다. 실행되지 않은 파일을 말한다. window 의 *.exe 나 Mac 의 *.dmg 등등

이 프로그램일 실행하면 메모리에 올라가게 되고 동적인 상태가 된다. 동적인 상태의 프로그램을 프로세스라고 한다. 프로세스는 실행되고 있는 컴퓨터 프로그램이라 할 수 있다.

### 프로그램은 코드 덩어리, 프로그램을 실행하면 프로세스

- 프로세스 → 스레드

프로세스 작업을 하는 동안 다른 작업을 할 수가 없다 생각해보자. 유튜브를 보면서 카톡을 할 수 없게 된다. 과거에는 실제로 프로세스 하나만을 사용했고 한 가지의 작업만 할 수 있었다고 한다.

이러한 문제점을 해결하기 위해 프로세스 보다 더 작은 실행 단위의 개념이 필요했고 이것이 스레드이다. 스레드는 프로세스와 다르게 스레드 간 메모리를 공유하며 작동한다. 스레드끼리 자원을 공유하면서 프로세스 실행 흐름의 일부가 되는 것이다.

### 스레드는 프로세스의 코드에 정의된 절차에 따라 실행되는 특정한 수행 경로

## 프로세스와 스레드의 작동 방식

프로세스가 메모리에 올라갈 때 운영체제로 부터 시스템 자원을 할당 받는다. 이때 프로세스마다 독립된 메모리 영역을 code, data, stack, heap 형식으로 할당한다. 각각 독립된 메모리 영역을 할당해 주기 때문에 프로세스는 다른 프로세스의 변수나 자료에 접근할 수 없다.

![image](https://user-images.githubusercontent.com/63634505/126629548-cb27904d-6476-4494-9ae5-9cbc4869a7bd.png)

이와 다르게 스레드는 메모리를 서로 공유할 수 있다. 프로세스가 할당 받은 메모리 영역 내에서 stack 형식으로 할당된 메모리는 따로 할당받고, 나머지 code, data, heap 으로 할당된 메모리 영역을 공유한다.

각각의 스레드는 별도의 스택을 가지고 있지만 힙 메모리는 서로 읽고 쓸수 있다.

![image](https://user-images.githubusercontent.com/63634505/126629635-dfc2ced7-361c-400b-874e-0c5f7d9d16f4.png)

프로세스를 실행하다 오류가 발생하면 프로세스가 강제 종료 되지만 다른 프로세스에는 영향이 없다. 반면에 스레드는 공유 자원이 있기 때문에 스레드 하나에서 오류가 발생하면 같은 프로세스의 모든 스레드들이 강제 종료 된다.

### 프로세스는 운영체제 관점에서 최소 작업 단위, 스레드는 CPU 입장에서의 최소 작업 단위

### 질문

스레드의 공유 자원의 문제점을 해결하기 위한 크리티컬 섹션이란 (동기화 기법)?

- 크리티컬 섹션을 설정한 구간은 하나의 스레드에서만 사용 가능하다. 즉, 프로세스 내의 여러 스레드에서 크리티컬 섹션에 먼저 진입하여 크리티컬 영역을 벗어나지 않은 상태에서는 동일 프로세스의 다른 스레드에서 해당 크리티컬 섹션에 진입하는 것을 금지한다.
- 개념적 크리티컬 섹션
- 기능적 크리티컬 섹션

임계 영역(Critical Section) → 동시 접근 문제가 발생할 수 있는 코드 블록

임계영역과 문제점을 해결하기위한 크리티컬 섹션이 영어로 같다.