# 멀티 프로세스와 멀티 스레드의 차이점에 대해 예를 들어 설명해주세요

## 멀티 프로세스
* 말 그대로 두 개 이상의 프로세스를 사용하여 연산을 처리한다.

## 멀티 스레드
* 하나의 프로세스 안에 여러 개의 스레드가 동시에 실행되는 환경이다.
* 프로세스 안의 여러 스레드는 하나의 메모리를 공유한다. 즉, 메모리를 절약할 수 있다.
    * 정확히는 Code, Data, 그리고 Heap 영역을 공유한다. Stack은 공유하지 않고 스레드 자신만의 Stack을 만든다.

## 차이점
* 안정성 : 멀티 프로세싱은 시스템의 안정성을 높인다. 멀티 스레딩은 스레드끼리 메모리를 공유하기 때문에 안정성이 떨어질 수 있다.
* 생성 비용 : 프로세스는 새로 생성하기 위해 메모리와 같은 리소스와 시간이 많이 필요하지만 스레드는 빠르고 가볍게 생성할 수 있다.

### 멀티 프로세싱 환경은
멀티스레딩 환경보다 비교적 개발하기 쉽다. 앞서 말한 멀티스레딩의 장점인 메모리 공유는 단점으로 예상치 못한 참조값 변경이라는 문제가 생길 수 있기 때문에 그 부분을 고려해야 하는 상황이 생긴다.

독립된 구조라서 안정적이지만 그 특성으로 인해 Context Switching이 필요해서 성능 저하가 생긴다.

### 멀티 스레딩 환경은
메모리를 공유하면서 생기는 장점을 활용할 수 있다:
* 스레드간 커뮤니케이션의 비용이 낮다.
* 프로세스를 여러 개 사용하는 것보다 빠르게 태스크 스위칭을 하며 필요하면 빠르게 새로운 스레드를 만들 수 있다.

하지만 synchronization을 고려해야하기 때문에 코드가 복잡해지며, 유지보수하기 힘든 코드가 만들어질 수 있다.


## 질문
Q. 스레드끼리 Stack을 공유하지 않는 이유는?


A. Stack은 LIFO(Last In First Out)이라는 특징을 갖고 있다. 만약 이런 Stack을 공유하게 된다면 다음과 같은 상황이 발생한다:
1. A 스레드가 데이터를 스택에 넣는다.
2. B 스레드가 데이터를 스택에 넣는다.
3. A 스레드가 아까 넣은 데이터를 사용하려고 한다. 그 때 B의 데이터를 먼저 꺼내게 된다.
4. B 스레드는 데이터를 사용하지 못하게 된다.
