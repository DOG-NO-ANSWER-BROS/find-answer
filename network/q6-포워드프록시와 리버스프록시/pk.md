# 프록시
클라이언트와 웹 서버 사이에 설치하여 액세스 동작을 중개하는 구조.<br>
* Forward Proxy - 클라이언트의 요청을 받아서 대신 그 요청을 서버로 전달한다.
* Reverse Proxy - 클라이언트로 받은 요청을 대신 받는다. 그리고 그 요청을 서버로 전달한다.

# 포워드 프록시
<img width="780" alt="Screen Shot 2021-09-29 at 9 04 08 AM" src="https://user-images.githubusercontent.com/48251668/135181453-65c7c49c-13d2-4b07-9287-344c27765fbd.png">
포워드 프록시는 독립된 개인 네트워크에서 발생하는 요청을 방화벽을 거쳐 네트워크로 전달하는 역할을 한다.<br>

## 특징
### 네트워크 리소스 관리
관리라는 표현이 애매하긴 하지만, 다음과 같은 두 가지 방법을 통해 포워드 프록시는 네트워크 리소스를 효율적으로 사용한다.
1. 유효한 요청인지 확인한다.
프록시는 특정 요청을 실제로 전송되지 않도록 막을 수 있다. 
2. 자주 발생하는 요청인지 확인한다.
즉, 캐싱한 응답이 있다면 굳이 네트워크를 통해 요청을 목적지까지 보내지 않고 대신하여 그 응답을 클라이언트에게 준다.

# 리버스 프록시
<img width="733" alt="Screen Shot 2021-09-29 at 9 04 18 AM" src="https://user-images.githubusercontent.com/48251668/135181460-80d92e86-b7c0-43d1-8da4-cc76f003e3cf.png">

리버스 프록시는 대리 프록시라고도 한다. 웹 서버들의 앞에 위치하여 표현 그대로 웹 서버를 '대신'하는 역할을 할 수 있다.<br>
즉, 요청을 대신 처리하고 웹 서버가 필요한 경우에만 요청을 자신의 뒤에 있는 웹 서버로 전달하는 것이다.<br>
## 특징
### 보안
웹 서버와 같은 백엔드 인프라를 숨긴다. 클라이언트는 웹 서버의 ip를 모르고, 알 필요가 없다. 요청을 리버스 프록시에게 보내기만 하면 된다.<br>
리버스 프록시가 해당 요청을 처리하거나 웹 서버로 전달하여 처리하도록 하므로, 리버스 프록시를 이용하여 웹 서버를 외부로부터 숨길 수 있다.

보안의 또 다른 방식으로 ip를 기준으로 요청을 처리하지 않도록 할 수 있다.<br>
이는 국가 단위로 설정하는 경우도 있으며, 특정 ip를 blacklist로 넣기 위해 사용하기도 한다.

### 캐싱
클라이언트가 많이 요청하는 정적 파일을 리버스 프록시에 캐싱할 수 있다.<br>
이를 통해 웹 서버가 감당하는 부하를 줄이면서 클라이언트가 더 빠르게 응답을 받을 수 있도록 한다.

### 부하 분산
웹 서버를 여러 대 두고, 리버스 프록시로 오는 요청을 다양한 방식으로 여러 서버에 보낼 수 있다.<br>
여기서 다양한 방식이란 다음과 같다:
* Round Robin: 여러 웹 서버를 순서대로 사용하는 방식.
* IP 해시: 클라이언트의 IP 주소를 이용하여 해시를 만든 다음 그 해시 값을 이용하여 웹 서버를 결정한다. 하나의 클라이언트는 계속해서 같은 웹 서버를 사용할 수 있다는 이점이 있다.
* 랜덤: 가중치를 설정하여 그 가중치를 기준으로 랜덤한 웹 서버로 요청을 보낼 수 있다.

## 질문
### 공개 프록시란 무엇일까?
공개 프록시는 Open Proxy 라고도 하며, 누구나 자유롭게 접속할 수 있는 프록시 서버를 뜻한다.<br>
이런 공개 프록시를 이용하면 사용자 본인의 IP를 숨기고 익명으로 활동할 수 있어서 바이러스 유포나 불법 행동에 악용될 수 있다. 그래서 많은 프로그램이 이런 공개 프록시를 찾아서 사용하지 못하도록 한다.

