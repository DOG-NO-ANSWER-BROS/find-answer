마이크로서비스는 독립적으로 배포가 가능하고, 다른 기술 스택(개발언어, 데이터베이스 등)이 사용 가능한 단일 사업영역에 초점을 둔다. MSA를 알기 전에 먼저 Monolithic Architecture를 이해하면 좋을 것 같다.

## Monolithic Architecture

소프트웨어의 모든 구성요소가 한 프로젝트에 통합되어 있는 형태이다.

한계점

- 부분 장애가 전체 서비스의 장애로 확대될 수 있다
- 부분적인 scale out이 어렵다
- 서비스의 변경이 어렵고 변경시 장애의 영향도 파악이 힘들다
- 배포시간이 많이 걸린다
- Framework와 언어에 종속적이다

이러한 한계점들을 보완하기 위해 MSA가 등장하였다. 특정 물리 서버에 서비스를 올리던 것을 클라우드 환경을 이용하여 서버를 구성하는 MSA로 전환되고 있다

## MSA

MSA는 API를 통해서 상호작용을 할 수 있다. MSA는 서비스의 엔드포인트를 API형태로 노출하고 실질적인 부분은 추상화한다.

장점

- 각각의 서비스는 모듈화 되어 있고 모듈기리 RPC나 message-driven API를 이용하여 통신
- 개별 서비스 개발을 빠르게 하며, 유지 보수도 쉽게 할 수 있다
- java spring 기반이라도 MSA를 적용하면 node.js 로 블록체인 개발 모듈을 연동 할 수 있다.
- 서비스별로 독립 배포 가능
- 각각 서비스 부하에 따라 개별적으로 scale out 이 가능하다.
- 메모리, CPU의 상당부분이 이득이 된다

단점

- 모놀리식에 비해 복잡함
- 서비스가 분산되어 있어 내부 시스템의 통신을 어떻게 가져가야할지 정해야 한다
- 서버의 부하나 장애가 있을시 어떻게 transaction을 유지할지 결정하고 구현해야함
- 통합테스트의 어려움
- 1개를 재배포 한다면 다른 서비스와 연계도 확인해야하는 번거로움이 있다

> 모놀리식으로 관리하기에 특별히 복잡한 시스템을 운영할 상황이 아니라면 마이크로서비스는 고려할 필요조차 없다. - 마틴 파울러
>